# 老爸心脏康复计划 - 完整功能说明

> 专为心脏术后康复设计的全方位健康管理应用
> 最后更新：2025-11-17

---

## 📱 应用概览

**在线访问：** https://lhonglhi.github.io/dad-heart-rehab/

**核心理念：**
- 基于手术日期自动分阶段管理
- 数据完全本地存储，保护隐私
- 智能提醒和预警系统
- 可视化进度跟踪
- 个性化饮食推荐

---

## ✨ 核心功能模块

### 1. 🏥 四阶段智能康复系统

根据手术日期自动计算当前阶段，动态调整康复目标。

#### 阶段划分

| 阶段 | 天数 | 图标 | 运动目标 | 重点 |
|-----|------|------|---------|------|
| **保护期** | 0-13天 | 🛡️ | 15分钟 | 轻微活动、充分休息 |
| **恢复期** | 14-55天 | 💪 | 20-35分钟 | 逐步增加运动量 |
| **强心期** | 56-180天 | ❤️ | 40分钟 | 持续运动强化心脏 |
| **维护期** | 180天+ | 🌟 | 40分钟 | 长期保持良好习惯 |

#### 阶段特点

**保护期（0-13天）**
- 极少运动，以休息为主
- 严格监测症状
- 食物以易消化为主

**恢复期（14-55天）**
- 分段增加运动时间
- 14-20天：20分钟
- 21-27天：25分钟
- 28-41天：30分钟
- 42-55天：35分钟

**强心期（56-180天）**
- 标准模式：40分钟/天
- 强化模式：30分钟/天（指标未达标时）

**维护期（180天+）**
- 长期保持运动习惯
- 继续健康饮食管理

---

### 2. 📊 可视化康复路线图

**功能特点：**
- ✅ 四阶段进度条
- ✅ 当前阶段高亮显示（蓝色脉冲动画）
- ✅ 已完成阶段（绿色对勾）
- ✅ 未来阶段（灰色）
- ✅ 整体康复进度百分比（以180天为基准）

**显示内容：**
- 每个阶段的图标和名称
- 天数范围
- 实时进度条
- 康复完成度百分比

---

### 3. 📝 每日任务打卡系统

#### 3.1 戒烟监测 🚬

**功能：**
- 选择"抽了/没抽"
- 实时计算连续无烟天数
- 显示最长无烟记录

**风险警告（7级优先级系统）：**
```
第1级：吸烟 + 饮酒 → 🚨🚨🚨 极高风险
第2级：仅吸烟 → 🚨 严重警告（再次心梗风险增加2-3倍）
```

**统计分析：**
- 连续无烟天数
- 总吸烟次数（全部 + 近30天）
- 最长无烟记录

#### 3.2 戒酒监测 🍺

**功能：**
- 选择"喝了/没喝"
- 实时计算连续无酒天数
- 显示最长无酒记录

**风险警告：**
```
第1级：吸烟 + 饮酒 → 🚨🚨🚨 极高风险
第3级：仅饮酒 → 🚨 严重警告（可能与心脏药物产生危险反应）
```

#### 3.3 用药打卡 💊

**功能：**
- 每日确认是否按时吃药
- 选择"已按时吃完/没完全按时"

**强化提醒：**
- 强化模式下：红色背景 + ⚠️ 图标
- 加强用药重要性提示

#### 3.4 运动记录 🏃

**功能：**
- 填写实际运动分钟数
- 显示当日运动目标
- 自动根据阶段调整目标

**目标设置：**
- 自动模式：系统根据阶段推荐
- 自定义模式：手动设置每日目标

#### 3.5 血压心率监测 💓

**输入项：**
- 收缩压（mmHg）
- 舒张压（mmHg）
- 心率（次/分）

**参考范围显示：**
```
📊 参考范围
• 收缩压：90-140 mmHg
• 舒张压：60-90 mmHg
• 心率：60-100 次/分
```

**三级智能预警：**

| 级别 | 颜色 | 触发条件 | 提示 |
|-----|------|---------|------|
| 正常 | 蓝色 | 所有指标在正常范围内 | ✅ 数值正常 |
| 警告 | 黄色 | 收缩压>140 或 舒张压>90 或 心率异常 | ⚠️ 需要注意，建议减少盐分摄入 |
| 危险 | 红色 | 收缩压>180 或 舒张压>110 或 心率<50/>120 | 🚨 请尽快联系医生或就医！ |

**健康建议：**
- 血压偏高：减少盐分摄入，避免情绪激动
- 血压偏低：注意休息，缓慢起身
- 心率过快：停止活动，休息观察
- 心率过慢：避免突然活动

#### 3.6 症状记录 📋

**可选症状：**
- ✅ 胸痛
- ✅ 胸闷
- ✅ 心慌
- ✅ 气短
- ✅ 头晕
- ✅ 水肿
- ✅ 自定义备注

**智能反馈：**
- 出现胸痛/气短 → ⚠️ 请尽快就医
- 无症状 → ✅ 今天很好，继续保持

---

### 4. 🩺 术后检查管理模块

#### 4.1 自动生成检查计划

基于手术日期自动生成4个关键检查：

| 检查项目 | 推荐时间 | 监测指标 | 目标值 |
|---------|---------|---------|--------|
| **血脂检查（第一次）** | 术后4-8周 | LDL | < 1.4 mmol/L |
| **心电图 + 心脏彩超** | 术后6-12周 | EF | > 50% |
| **血脂检查（第二次）** | 术后3个月 | LDL | < 1.4 mmol/L |
| **年度综合复查** | 术后12个月 | LDL + EF | 均达标 |

#### 4.2 智能提醒系统

**"今天"页面提醒：**
- 🩺 下一个检查：血脂检查（还有 5 天）

**检查页面显示：**
- 下一个检查倒计时
- 检查清单（待完成/已完成/已逾期）
- 检查结果录入

#### 4.3 达标判断系统

**LDL（低密度脂蛋白）：**
```
< 1.4 mmol/L   → ✅ 达标（绿色）
1.4-1.8 mmol/L → ⚠️ 偏高，需要控制（橙色）
≥ 1.8 mmol/L   → 🚨 严重超标，请立即就医调整用药（红色）
```

**EF（射血分数）：**
```
≥ 50%  → ✅ 正常（绿色）
40-50% → ⚠️ 偏低，需要注意（橙色）
< 40%  → 🚨 严重偏低，高风险，需严格管理（红色）
```

#### 4.4 检查数据管理

**功能：**
- ✅ 输入LDL/EF数值
- ✅ 标记完成日期
- ✅ 清除检查数据（可重新输入）
- ✅ 彩色状态指示

---

### 5. ⚠️ 强化管理模式

#### 5.1 触发条件

当进入强心期时，系统自动检查恢复期的关键指标：

**触发条件（满足任一）：**
- LDL ≥ 1.8 mmol/L（严重未达标）
- EF < 40%（心功能不全）

#### 5.2 强化调整

**阶段显示：**
```
强心期 → 强心期（强化版）
```

**运动目标：**
```
40分钟/天 → 30分钟/天（更保守）
```

**阶段提示：**
```
⚠️ 检查指标未达标，启动强化管理模式：
运动适当下调、加强用药、密切监测。
请遵医嘱调整治疗方案。
```

#### 5.3 强化提醒

**今日页面警告卡片：**
```
🚨 强化管理模式已启动

检查指标未达标，系统已自动调整为强化管理模式，确保康复安全。

• 运动目标已适当下调（30分钟）
• 用药提醒已加强（红色高亮）
• 检查监测需更密切关注
• 请遵医嘱调整治疗方案
```

**用药卡片强化：**
- 红色渐变背景
- ⚠️ 图标前缀
- 红色粗体标题

---

### 6. 🍽️ 每日蛋白质推荐

#### 6.1 智能推荐系统

**根据阶段随机推荐：**
- 保护期：7种易消化食物
- 恢复期：9种营养食物
- 强心期：9种强化食物
- 维护期：7种长期适宜食物

**显示内容：**
- 🍴 食物名称
- 📏 推荐分量
- 🕐 建议餐次
- 💡 营养提示

#### 6.2 食物列表示例

**保护期（术后0-13天）：**
- 清蒸鲈鱼 50-80g（午餐/晚餐）
- 鲫鱼豆腐汤（术后首选，高蛋白、低脂肪）
- 蒸蛋羹（极易消化）
- 蛋花汤
- 嫩豆腐 75g
- 鸡胸肉丝粥 30-40g

**恢复期（术后14-55天）：**
- 蒸武昌鱼 100g（湖北地区易买）
- 番茄炖草鱼片 80g（富含番茄红素，抗炎）
- 黑鱼片汤（肉质细嫩，利于恢复）
- 虾仁蛋花汤
- 去皮鸡腿肉 60g

**强心期（术后56-180天）：**
- 清蒸武昌鱼 120g
- 番茄炖鱼片 100g（增强抗炎能力）
- 黄骨鱼炖冬瓜
- 黑鱼片炒蛋（少油）
- 瘦牛肉（清炖）40-60g（每周限1-2次）

**维护期（术后180天+）：**
- 清蒸鱼（多种选择）100-150g
- 红烧鱼（低油版）
- 去皮鸡胸肉 80g
- 瘦猪肉（清炖/蒸）40-50g（每周1-2次）

#### 6.3 换一换功能

- 点击"换一换"按钮
- 随机切换当前阶段的其他食物
- 避免饮食单调

---

### 7. 📈 记录与趋势分析

#### 7.1 连续天数统计

**显示位置：**
- 今日页面顶部
- 记录页面统计卡片

**统计项：**
- 连续无烟天数 + 最长记录
- 连续无酒天数 + 最长记录

#### 7.2 危险行为统计

**专属统计卡片：**
```
🚨 危险行为统计（近30天）

吸烟次数：X 次（总计：Y 次）
饮酒次数：X 次（总计：Y 次）

⚠️ 吸烟和饮酒是心梗复发的最大风险因素！
```

**风险等级提示：**
- 7级优先级警告系统
- 根据吸烟饮酒组合显示不同级别警告

#### 7.3 运动趋势

**显示：**
- 平均运动时长
- 近期运动记录列表
- 达标情况分析

#### 7.4 血压心率趋势

**历史记录：**
- 每日血压心率数值
- 彩色状态标记（正常/警告/危险）
- 趋势变化分析

#### 7.5 详细记录列表

**每日记录包含：**
- 日期 + 康复阶段
- 戒烟/戒酒状态
- 用药情况
- 运动时长 vs 目标
- 血压心率数值 + 状态
- 症状记录
- 备注

**可展开查看：**
- 点击日期展开详情
- 完整的当日数据

---

### 8. ⚙️ 设置与数据管理

#### 8.1 基础设置

**手术日期：**
- 必填项
- 用于自动计算康复阶段和检查计划

**运动目标模式：**
- 按系统推荐（自动根据阶段调整）
- 自定义目标（手动设置每日分钟数）

#### 8.2 数据管理

**导出数据：**
- 点击"导出数据"按钮
- 下载JSON格式文件
- 包含所有记录和设置

**清空记录：**
- 点击"清空所有记录"
- 二次确认防止误操作
- 清空所有打卡记录（设置保留）

---

### 9. 🎨 个性化设计

#### 9.1 爸爸头像

**显示位置：**
- 今日页面顶部紫色区域
- 圆形头像，白色边框

**设计：**
- 70x70像素
- 与标题并排显示
- 温馨亲切

#### 9.2 标题与副标题

**主标题：**
```
老爸心脏康复计划
```

**副标题：**
```
用心守护，健康常伴 ❤️
```

---

### 10. 📱 技术特性

#### 10.1 本地存储

**存储方式：**
- 浏览器 LocalStorage
- 数据完全在本地
- 不上传到服务器

**存储键：**
- `heartRehabRecords`：每日记录
- `heartRehabSettings`：设置信息
- `heartRehabCheckups`：检查记录

#### 10.2 配置数据管理

**data.json 文件：**
- 所有配置数据集中存储
- 包含阶段配置、血压范围、检查项目、食物推荐等
- 修改配置无需改代码，只需编辑JSON

**可配置项：**
- ✅ 康复阶段天数和运动目标
- ✅ 血压心率正常范围
- ✅ 检查项目和时间安排
- ✅ LDL/EF达标标准
- ✅ 蛋白质食物列表

**详细说明：**
- 参见 `DATA_CONFIG.md` 文件
- 完整的配置修改指南

#### 10.3 响应式设计

**适配：**
- 📱 手机
- 💻 平板
- 🖥️ 电脑

**PWA支持：**
- 可添加到手机主屏幕
- 像原生APP一样使用

---

## 🔐 隐私与安全

### 数据安全

**完全本地化：**
- ✅ 所有数据保存在浏览器本地
- ✅ 不上传到任何服务器
- ✅ 不需要注册登录
- ✅ 完全离线可用

**数据备份：**
- 支持导出JSON文件
- 建议定期备份
- 可在设置页面一键导出

### 注意事项

⚠️ **重要提醒：**
1. 清除浏览器数据会导致记录丢失
2. 换设备需要手动导出/导入数据
3. 建议每月备份一次数据

---

## 📋 使用流程

### 首次使用

1. **填写手术日期**
   - 打开应用
   - 进入"设置"页面
   - 填写手术日期并保存

2. **系统自动配置**
   - 自动计算当前康复阶段
   - 自动生成检查计划
   - 显示当日运动目标

### 每日使用

1. **完成打卡**
   - 戒烟/戒酒选择
   - 确认吃药
   - 填写运动时长
   - 输入血压心率
   - 记录症状（如有）

2. **查看推荐**
   - 查看今日蛋白质推荐
   - 点击"换一换"切换食物

3. **保存记录**
   - 点击"保存今天的记录"
   - 查看智能反馈

### 定期检查

1. **查看检查提醒**
   - "今天"页面显示下一个检查
   - "检查"页面查看完整计划

2. **完成检查后**
   - 进入"检查"页面
   - 输入LDL/EF数值
   - 标记为完成

3. **系统自动判断**
   - 显示达标情况
   - 触发强化模式（如需要）

### 查看进度

1. **康复路线图**
   - 查看当前阶段
   - 查看整体进度

2. **数据趋势**
   - 进入"记录"页面
   - 查看连续天数
   - 查看历史数据

---

## ⚠️ 免责声明

**本应用仅用于记录和提醒，不能替代专业医疗判断。**

**紧急情况处理：**
- 胸痛、剧烈胸闷 → 立即就医
- 出冷汗、气短严重 → 立即拨打120
- 血压心率严重异常 → 尽快联系医生

**用药和康复：**
- 所有用药必须遵医嘱
- 运动量请咨询医生
- 定期复查不可省略

---

## 📞 技术支持

**GitHub仓库：**
https://github.com/lhonglhi/dad-heart-rehab

**在线访问：**
https://lhonglhi.github.io/dad-heart-rehab/

**配置说明：**
参见项目中的 `DATA_CONFIG.md` 文件

---

## 🎯 未来规划

可能的功能扩展：
- [ ] 用药提醒通知
- [ ] 数据导出为PDF报告
- [ ] 多用户支持
- [ ] 云端同步
- [ ] 家人分享功能

---

**祝愿早日康复，身体健康！** ❤️

---

*最后更新：2025-11-17*
*版本：2.0*
*🤖 使用 Claude Code 开发*
